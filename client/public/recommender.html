<!--RECOMMENDER PAGE-->
<!DOCTYPE html>
<html lang="en">

<!--Javascript for template header and footer-->
<script type=module src=./js/head-foot.js></script>

<!--Tab Header Information-->    
<head>
    <meta name="viewport" content="" width="device-width" initial-scale="1.0">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js"></script>
    <script src="./js/profile-redirect.js"></script>
    <link rel="stylesheet" href="./css/default.css">
    <link rel="stylesheet" href="./css/recommender.css">
    <link rel="stylesheet" href="./css/card.css">
    <title> Arcadia</title>
</head>

<body onload="populateGenresGrid()">
  <!--This div wraps the entire page-->
  <div id="wrap">
    <!--Header and Navigation Bar-->
    <my-header></my-header>

    <div class="content">

    <h2 class="gameGenHeader">Game Recommender</h2>
    
    <div class="container">
      <div id="genre-selection-container">
        <h2>What genres are you interested in? Select your top 3 favorites:</h2>
        <div id="genres-grid">
          <!-- Genre cards will be populated here by JavaScript -->
        </div>
        <p id="result"></p>
      </div>
      <div id="results-container" style="display: none;">
        <!-- Game recommendations will be displayed here -->
      </div>
      <button id="continue-button">Continue</button>
    </div>
    
    </div>

    <!--Footer -->
    <my-footer></my-footer>
    
  </div>
</body>
  <!--Javascript for icons-->
  <script type=module src=https://unpkg.com/ionicons@5.5.2/dist/ionicons/ionicons.esm.js></script>
  <script nomodule src=https://unpkg.com/ionicons@5.5.2/dist/ionicons/ionicons.js></script>
  <script src="./js/query.js"></script>
  <script src="./js/recommend.js"></script>
  <script>
    document.addEventListener('DOMContentLoaded', () => {
    const containers = document.querySelectorAll('#results-container');
    
      containers.forEach((container) => {
            container.addEventListener('click', (event) => {
                if (event.target.closest('.card, .mini-card')) {
                    const id = event.target.closest('.card, .mini-card').id.trim();
                    console.log('Clicked: ', id)
                    window.location.href = `results.html?id=${id}`;
                }
            });
        });
      });
  </script>
</html>