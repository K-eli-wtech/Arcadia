async function checkPass(t){t.preventDefault();let e=document.getElementById("pass").value,n=document.getElementById("verify").value,o=document.getElementById("display_name").value,s=document.getElementById("email").value,a=document.getElementById("output"),c=document.getElementById("register-button");if(0!==e.length)if(e===n)try{const e=await checkUser(s,o);"exists"===e.status?(a.textContent="Email or username already exists",a.style.color="#ff4d4d",c.setAttribute("type","button")):"empty"===e.status?(a.textContent="Username or email cannot be empty",a.style.color="#ff4d4d",c.setAttribute("type","button")):(a.textContent="",alert("Account created successfully!"),window.location.href="./login.html",t.target.submit())}catch(t){a.textContent="Error: "+t.message,a.style.color="#ff4d4d",c.setAttribute("type","button")}else a.textContent="Passwords don't match",a.style.color="#ff4d4d",c.setAttribute("type","button");else a.textContent="Password can't be empty",a.style.color="#ff4d4d",c.setAttribute("type","button")}async function checkUser(t,e){const n={email:t,display_name:e},o=await fetch("http://localhost:3000/pages/check-user",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)});return await o.json()}function showPass(t,e){let n=document.getElementById(t),o=document.getElementById(e);"password"===n.type?(n.type="text",o.name="eye-off-outline"):(n.type="password",o.name="eye-outline")}const form=document.querySelector("form");form.addEventListener("submit",checkPass);